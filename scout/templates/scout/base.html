<!DOCTYPE html>
<html class="no-js">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>{% block title %}Food Scout{% endblock %}</title>
        <meta name="description" content="">
        <meta name="HandheldFriendly" content="True">
        <meta name="MobileOptimized" content="320">
        <meta name="viewport" content="initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">
        <meta http-equiv="cleartype" content="on">
        
        {% load staticfiles %}
        {% load compress %}
        
        <!-- favicon and mobile device icons-->
        <link rel="apple-touch-icon-precomposed" sizes="144x144" href="{% static "vendor/ico/apple-touch-icon-144x144-precomposed.png" %}">
        <link rel="apple-touch-icon-precomposed" sizes="114x114" href="{% static "vendor/ico/apple-touch-icon-114x114-precomposed.png" %}">
        <link rel="apple-touch-icon-precomposed" sizes="72x72" href="{% static "vendor/ico/apple-touch-icon-72x72-precomposed.png" %}">
        <link rel="apple-touch-icon-precomposed" sizes="57x57" href="{% static "vendor/ico/apple-touch-icon-57x57-precomposed.png" %}"> 
        <link rel="shortcut icon" href="{% static "vendor/ico/favicon.ico" %}">
        
        <!-- windows8 - tile icon  & color -->
        <meta name="msapplication-TileImage" content="{% static "vendor/ico/apple-touch-icon-144x144-precomposed.png" %}">
        <meta name="msapplication-TileColor" content="#222222">
        
        <!-- ios webapps - delete if not needed -->
        <!--
        <meta name="apple-touch-fullscreen" content="yes" />
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-title" content="">
        -->
        <!-- critical css (above the fold styles) -->
        {% compress css inline %}
            
            {% if low_fidelity %}
            <!-- normalize only -->
            <link rel="stylesheet" href="{% static "vendor/css/normalize-3.0.1.min.css" %}">
            {% endif %}
            
            <style rel="stylesheet" type="text/less">
                
                .hybrid {
                    
                    #scroll { margin-top: 0; top:0; }
                    #map { top: 0; }
                }
                                
                #header { background: #555; position: fixed; top:0; left:0; right: 0; z-index: 999;
                    
                    h1 { margin: 0 20px; line-height: 56px; height:56px; color: #fff; text-transform: uppercase; font-family: 'Oswald', sans-serif; font-weight: 300; font-size: 30px; }
                    .navi { background: #333; line-height: 40px; color: #fff; display: -webkit-flex; display: flex; margin: 0; padding: 0;
                        
                        li { list-style: none; margin:0; padding: 0; flex:1; -webkit-flex: 1; -webkit-box-flex: 1; text-transform: uppercase; text-align: center; justify-content: space-between;
                            &:hover { background: #666; }
                            a { padding: 0; display: block; }
                        }
                
                    }
                    
                    #list_map_switcher { display: none; }
                }
                
                #scroll { margin-top: 110px; }
                #content { margin: 20px;
                    
                    #pjax-loading { line-height: 300px; text-align: center; color: #ccc; }
                    h3 { font-family: 'Oswald', sans-serif; font-weight: 300; }
                }
                
                #map-canvas { height: 100%; margin: 0px; padding: 0px; }
                
            </style>
            
        {% endcompress %}
        
        <!-- insert your webfonts here -->
        <link href='http://fonts.googleapis.com/css?family=Oswald:400,700,300' rel='stylesheet' type='text/css'>
        
        {% if request.is_mobile %}
        {% compress css %}
        <!-- bootstrap & font awesome -->
        <link rel="stylesheet" href="{% static "vendor/css/bootstrap-3.3.4.min.css" %}">
        <link rel="stylesheet" href="{% static "vendor/css/font-awesome-4.0.3.min.css" %}">
        <!-- devtools -->
        <link rel="stylesheet" href="{% static "vendor/css/aca-devtools.min.css" %}">
        <!-- mobile -->   
        <link rel="stylesheet" href="{% static "scout/css/mobile.less" %}" type="text/less">
        {% endcompress %}
        {% endif %}
        
        {% if request.is_tablet %}
        {% compress css %}
        <!-- bootstrap & font awesome -->
        <link rel="stylesheet" href="{% static "vendor/css/bootstrap-3.3.4.min.css" %}">
        <link rel="stylesheet" href="{% static "vendor/css/font-awesome-4.0.3.min.css" %}">
        <!-- devtools -->
        <link rel="stylesheet" href="{% static "vendor/css/aca-devtools.min.css" %}">
        <!-- mobile + table -->
        <link rel="stylesheet" href="{% static "scout/css/mobile.less" %}" type="text/less">
        <link rel="stylesheet" href="{% static "scout/css/tablet.less" %}" type="text/less">
        {% endcompress %}
        {% endif %}
        
        {% if not request.is_mobile and not request.is_tablet %}
        {% compress css %}
        <!-- bootstrap & font awesome -->
        <link rel="stylesheet" href="{% static "vendor/css/bootstrap-3.3.4.min.css" %}">
        <link rel="stylesheet" href="{% static "vendor/css/font-awesome-4.0.3.min.css" %}">
        <!-- devtools -->
        <link rel="stylesheet" href="{% static "vendor/css/aca-devtools.min.css" %}">
        <!-- mobile + tablet + desktop -->
        <link rel="stylesheet" href="{% static "scout/css/mobile.less" %}" type="text/less">
        <link rel="stylesheet" href="{% static "scout/css/tablet.less" %}" type="text/less">
        <link rel="stylesheet" href="{% static "scout/css/desktop.less" %}" type="text/less">
        {% endcompress %}
        {% endif %}
    
        {% if not less_compiled %}
            <!-- less.js -->
            <script src="{% static 'vendor/js/less-2.0.0.min.js' %}" type="text/javascript"></script>
        {% endif %}
    
    </head>
    <body {% if is_hybrid %}class="hybrid"{% endif %}>
       
        {% if is_webapp %}
        <div id="header"> 
            
            <h1><a data-pjax href="/">Food Scout</a></h1>
            
            {% if request.is_mobile or request.is_tablet %}
            <!-- only show the map link for mobile and tablet -->
            <div id="list_map_switcher" style="display:inline-block; position:absolute; right:10px; top: 0; line-height:56px; font-size:14px; text-transform:uppercase;">
                <span><a data-pjax id="map_link" href="/seattle/food/map/">Map</a></span>
            </div>
            {% endif %}
            
            <div class="navi" style="position:relative;">
                <div style="display:inline-block; line-height:40px; font-size:14px; text-transform:uppercase; margin-left:20px;">
                    <span><a data-pjax href="/filters/">Filters</a></span>
                </div>
                
                <div style="display:inline-block; position:absolute; right:10px; top: 0; line-height:40px; font-size:14px; text-transform:uppercase;">
                    <span><a data-pjax href="/favorites/">favorites</a></span>
                </div>
            </div>

        </div>
        {% endif %}
         
         
         <div id="scroll">    
                
            <div id="content">
            
                <!-- pjax loading -->
                <div id="pjax-loading" style="display:none;">loading...</div>
                
                <!-- all pjax content will render inside of this id -->
                <div id="pjax-container">
                    {% block content %}{% endblock %}
                </div>
                
                {% if not request.is_mobile and not request.is_tablet %}
                <div id="map">
                    {% include "scout/partials/gmap.html" %}
                </div>
                {% endif %} 
    
            </div>
            
            {% if is_webapp %}
            <div id="footer">
                <!-- example of request.is_mobile and request.is_tablet usage in templates -->    
                {% if request.is_mobile %}
                <p class="text-muted credit">Courtesy of Charlon and Craig. UW-IT ACA</p>
                {% else %}
                <p class="text-muted credit">Courtesy of Charlon Palacay and Craig Stimmel. UW-IT ACA</p>
                {% endif %}
            </div>
            {% endif %}
            
         </div>
       
        <!-- devtools bar -->
        <div id="dev_toolbar">
            <span class="label label-device">Device: {% if request.is_mobile %}Mobile{% elif request.is_tablet %}Tablet{% else %}Desktop{%endif %}</span> <span class="label label-fold">The fold</span>
        </div>
        
        <script src='//maps.googleapis.com/maps/api/js?v=3&sensor=false&signed_in=true&callback=initializeMap' defer></script>
                
        {% compress js %}
        <!-- global javascript -->
        <script src="{% static "vendor/js/jquery-1.11.0.min.js" %}"></script>
        <script src="{% static "vendor/js/jquery-pjax-1.9.3.min.js" %}"></script>
        <script src="{% static "vendor/js/modernizr-2.6.2.min.js" %}"></script>
        <script src="{% static "vendor/js/bootstrap-3.3.4.min.js" %}"></script>
        <script src="{% static "vendor/js/aca-devtools.min.js" %}"></script>
        <script src="{% static "scout/js/map.js" %}"></script>
        {% endcompress %}
        
        {% if is_webapp %}
        {% compress js %}
        <script src="{% static "scout/js/web.js" %}"></script>
        {% endcompress %}
        {% endif %}
            
        {% if google_analytics %}
            <!-- google analytics -->
            <script>
                (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
                m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
                })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
                
                ga('create', '');
                ga('send', 'pageview');        
            </script>
        {% endif %}
        
        
        
    </body>
</html>
